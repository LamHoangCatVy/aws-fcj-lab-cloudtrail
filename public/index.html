<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.124.1">
    <meta name="description" content="">
<meta name="author" content="journeyoftheaverageguy@gmail.com">

    <link rel="icon" href="/images/favicon.png" type="image/png">

    <title>Building a Simple AWS CloudTrail Data Analytics Solution :: Start with Amazon VPC and AWS VPN Site-to-Site.</title>

    
    <link href="/css/nucleus.css?1711458764" rel="stylesheet">
    <link href="/css/fontawesome-all.min.css?1711458764" rel="stylesheet">
    <link href="/css/hybrid.css?1711458764" rel="stylesheet">
    <link href="/css/featherlight.min.css?1711458764" rel="stylesheet">
    <link href="/css/perfect-scrollbar.min.css?1711458764" rel="stylesheet">
    <link href="/css/auto-complete.css?1711458764" rel="stylesheet">
    <link href="/css/atom-one-dark-reasonable.css?1711458764" rel="stylesheet">
    <link href="/css/theme.css?1711458764" rel="stylesheet">
    <link href="/css/hugo-theme.css?1711458764" rel="stylesheet">
    
    <link href="/css/theme-workshop.css?1711458764" rel="stylesheet">
    
    

    <script src="/js/jquery-3.3.1.min.js?1711458764"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    
  </head>
  <body class="" data-url="/">
    <nav id="sidebar" class="showVisitedLinks">



  <div id="header-wrapper">
    <div id="header">
      

    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="/js/lunr.min.js?1711458764"></script>
<script type="text/javascript" src="/js/auto-complete.js?1711458764"></script>
<script type="text/javascript">
    
        var baseurl = "\/\/localhost:1313\/";
    
</script>
<script type="text/javascript" src="/js/search.js?1711458764"></script>

    
  </div>

    <div class="highlightable">
    <ul class="topics">

        
          
          




 
  
    
    <li data-nav-id="/3-config-cloudtrail/" title="CloudTrail Configuring" class="dd-item 
        
        
        
        ">
      <a href="/3-config-cloudtrail/">
           <b> 1. </b> CloudTrail Configuring
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/4-add-iam/" title="Add IAM" class="dd-item 
        
        
        
        ">
      <a href="/4-add-iam/">
           <b> 2. </b> Add IAM
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/5-add-ec2/" title="Add EC2 Instance" class="dd-item 
        
        
        
        ">
      <a href="/5-add-ec2/">
           <b> 3. </b> Add EC2 Instance
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/6-stop-ec2/" title="Using dude-from-nowhere to Stop EC2 Instance" class="dd-item 
        
        
        
        ">
      <a href="/6-stop-ec2/">
           <b> 4. </b> Using dude-from-nowhere to Stop EC2 Instance
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/7-athena-query/" title="Athena Query" class="dd-item 
        
        
        
        ">
      <a href="/7-athena-query/">
           <b> 5. </b> Athena Query
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/8-quicjsight-visualize/" title="Quicksight Visualize" class="dd-item 
        
        
        
        ">
      <a href="/8-quicjsight-visualize/">
           <b> 6. </b> Quicksight Visualize
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/9-clean-up/" title="Resources Clean Up" class="dd-item 
        
        
        
        ">
      <a href="/9-clean-up/">
           <b> 7. </b> Resources Clean Up
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
         
    </ul>

    
    
      <section id="shortcuts">
        <h3>More</h3>
        <ul>
          
              <li> 
                  <a class="padding" href="https://aws.amazon.com/blogs"><i class='fab fa-aws'></i> AWS Study Group - Blog</a>
              </li>
          
              <li> 
                  <a class="padding" href="https://www.facebook.com/groups/awsstudygroupfcj"><i class='fab fa-facebook'></i> AWS Study Group - FB Group</a>
              </li>
          
        </ul>
      </section>
    

    
    <section id="prefooter">
      <hr/>
      <ul>
      
        <li>
          <a class="padding">
            <i class="fas fa-language fa-fw"></i>
          <div class="select-style">
            <select id="select-language" onchange="location = this.value;">
          
          
          
              
              
                  
                    
                    
                      <option id="en" value="//localhost:1313/" selected>English</option>
                    
                  
              
                  
              
          
              
              
                  
              
                  
                    
                    
                      <option id="vi" value="//localhost:1313/vi/">Tiếng Việt</option>
                    
                  
              
          
        </select>
        <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
          width="255px" height="255px" viewBox="0 0 255 255" style="enable-background:new 0 0 255 255;" xml:space="preserve">
          <g>
            <g id="arrow-drop-down">
              <polygon points="0,63.75 127.5,191.25 255,63.75 		" />
            </g>
          </g>
        </svg>
        </div>
        </a>
        </li>
      
      
      
        <li><a class="padding" href="#" data-clear-history-toggle=""><i class="fas fa-history fa-fw"></i> Clear History</a></li>
      
      </ul>
    </section>
    
    <section id="footer">
      <left>
    
     <b> Workshop</b> <br>
    <img src="https://hitwebcounter.com/counter/counter.php?page=7920860&style=0038&nbdigits=9&type=page&initCount=0" title="Migrate" Alt="web counter"   border="0" /></a>  <br>
     <b> <a href="https://cloudjourney.awsstudygroup.com/">Cloud Journey</a></b> <br>
    <img src="https://hitwebcounter.com/counter/counter.php?page=7830807&style=0038&nbdigits=9&type=page&initCount=0" title="Total CLoud Journey" Alt="web counter"   border="0"   />
     
</left>
<left>
    <br>
    <br>
        <b> Last Updated </b> <br>
        <i><font color=orange>26-11-2023</font></i>
    </left>
    <left>
        <br>
        <br>
        <b> Made with luv  </b> <br>
        <i> <a href="https://www.linkedin.com/in/lam-hoang-cat-vy/"  style="color:orange">Lam Hoang Cat Vy (Kathy Lam)</a> <br>

            <b> From Team FCJ</b> <br>
            <i> <a href="https://www.linkedin.com/in/jotaguy"  style="color:orange">Gia Hưng </a> <br>
        </i>
        </left>

<script async defer src="https://buttons.github.io/buttons.js"></script>

    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          

        

<span id="sidebar-toggle-span">
<a href="#" id="sidebar-toggle" data-sidebar-toggle=""><i class="fas fa-bars"></i> navigation</a>
</span>

 
<h1 id="building-a-simple-aws-cloudtrail-data-analytics-solution">Building a Simple AWS CloudTrail Data Analytics Solution</h1>
<h4 id="overview">Overview</h4>
<p>The demo will show how you can visualize AWS CloudTrail data in Amazon QuickSight and start building simple security dashboards. Although CloudTrail is enabled by default in every AWS Account, Kathy (me) will configure a new trail, and also to show where CloudTrail configurations are made.</p>
<p>After configuring a new trail, I will add a new user into my AWS account (named dude-from-nowhere). I will then log in as that user and do some activity that simulates a user who is issuing application programming interface (API) calls. One of these API calls will (accidentally) turn off a web server. If you want to follow the exact instructions in your account, you can mimic the scenario that I has in this account before you enable CloudTrail. To do so, you can create an Amazon Elastic Compute Cloud (Amazon EC2) instance to function as the web server.</p>
<p>After I turns off the web server as the user <code>dude-from-nowhere</code>, I will log out and log in again as an administrator. I will then use CloudTrail data to investigate what happened by getting information, such as when the server was turned off. I will also discover the other API calls that the nicholas user made, because that account could have been compromised.</p>
<p>Here is the reference architect for this lab
<img alt="architect" src="/images/architect/lab-cloudtrail-architect.png"></p>
<h4 id="content">Content</h4>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<ol>
<li><a href="/3-config-cloudtrail/">Configuring CloudTrail</a></li>
<li><a href="/4-add-iam/">Add a secondary IAM User</a></li>
<li><a href="/5-add-ec2/">Create EC2 Instance</a></li>
<li><a href="/6-stop-ec2/">Using <code>dude-from-nowhere</code> to Stop Instance</a></li>
<li><a href="/7-athena-query/">Query CloudTrail data in Amazon Athena</a></li>
<li><a href="8-quicksight-visualize/">Visualizing Athena data in QuickSight</a></li>
<li><a href="/9-clean-up/">Resources Clean Up</a></li>
</ol>
	
  
        
        </div> 
        

      </div>

    <div id="navigation">
        
        
        
        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
        
        


	 
	 
		
		
			<a class="nav nav-next" href="/3-config-cloudtrail/" title="CloudTrail Configuring" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>
    
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/js/clipboard.min.js?1711458764"></script>
    <script src="/js/perfect-scrollbar.min.js?1711458764"></script>
    <script src="/js/perfect-scrollbar.jquery.min.js?1711458764"></script>
    <script src="/js/jquery.sticky.js?1711458764"></script>
    <script src="/js/featherlight.min.js?1711458764"></script>
    <script src="/js/highlight.pack.js?1711458764"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/js/modernizr.custom-3.6.0.js?1711458764"></script>
    <script src="/js/learn.js?1711458764"></script>
    <script src="/js/hugo-learn.js?1711458764"></script>

    <link href="/mermaid/mermaid.css?1711458764" rel="stylesheet" />
    <script src="/mermaid/mermaid.js?1711458764"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-158079754-2', 'auto');
  ga('send', 'pageview');

</script>
  </body>
</html>

