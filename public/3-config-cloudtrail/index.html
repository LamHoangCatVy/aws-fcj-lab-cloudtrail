<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.124.1">
    <meta name="description" content="">
<meta name="author" content="journeyoftheaverageguy@gmail.com">

    <link rel="icon" href="../images/favicon.png" type="image/png">

    <title>CloudTrail Configuring :: Start with Amazon VPC and AWS VPN Site-to-Site.</title>

    
    <link href="../css/nucleus.css?1711460118" rel="stylesheet">
    <link href="../css/fontawesome-all.min.css?1711460118" rel="stylesheet">
    <link href="../css/hybrid.css?1711460118" rel="stylesheet">
    <link href="../css/featherlight.min.css?1711460118" rel="stylesheet">
    <link href="../css/perfect-scrollbar.min.css?1711460118" rel="stylesheet">
    <link href="../css/auto-complete.css?1711460118" rel="stylesheet">
    <link href="../css/atom-one-dark-reasonable.css?1711460118" rel="stylesheet">
    <link href="../css/theme.css?1711460118" rel="stylesheet">
    <link href="../css/hugo-theme.css?1711460118" rel="stylesheet">
    
    <link href="../css/theme-workshop.css?1711460118" rel="stylesheet">
    
    

    <script src="../js/jquery-3.3.1.min.js?1711460118"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    
  </head>
  <body class="" data-url="../3-config-cloudtrail/">
    <nav id="sidebar" class="showVisitedLinks">



  <div id="header-wrapper">
    <div id="header">
      

    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="../js/lunr.min.js?1711460118"></script>
<script type="text/javascript" src="../js/auto-complete.js?1711460118"></script>
<script type="text/javascript">
    
        var baseurl = "\/\/localhost:1313\/";
    
</script>
<script type="text/javascript" src="../js/search.js?1711460118"></script>

    
  </div>

    <div class="highlightable">
    <ul class="topics">

        
          
          




 
  
    
    <li data-nav-id="/3-config-cloudtrail/" title="CloudTrail Configuring" class="dd-item 
        
        active
        
        ">
      <a href="../3-config-cloudtrail/">
           <b> 1. </b> CloudTrail Configuring
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/4-add-iam/" title="Add IAM" class="dd-item 
        
        
        
        ">
      <a href="../4-add-iam/">
           <b> 2. </b> Add IAM
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/5-add-ec2/" title="Add EC2 Instance" class="dd-item 
        
        
        
        ">
      <a href="../5-add-ec2/">
           <b> 3. </b> Add EC2 Instance
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/6-stop-ec2/" title="Using dude-from-nowhere to Stop EC2 Instance" class="dd-item 
        
        
        
        ">
      <a href="../6-stop-ec2/">
           <b> 4. </b> Using dude-from-nowhere to Stop EC2 Instance
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/7-athena-query/" title="Athena Query" class="dd-item 
        
        
        
        ">
      <a href="../7-athena-query/">
           <b> 5. </b> Athena Query
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/8-quicjsight-visualize/" title="Quicksight Visualize" class="dd-item 
        
        
        
        ">
      <a href="../8-quicjsight-visualize/">
           <b> 6. </b> Quicksight Visualize
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/9-clean-up/" title="Resources Clean Up" class="dd-item 
        
        
        
        ">
      <a href="../9-clean-up/">
           <b> 7. </b> Resources Clean Up
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
              
    </li>
  
 

          
         
    </ul>

    
    
      <section id="shortcuts">
        <h3>More</h3>
        <ul>
          
              <li> 
                  <a class="padding" href="https://aws.amazon.com/blogs"><i class='fab fa-aws'></i> AWS Study Group - Blog</a>
              </li>
          
              <li> 
                  <a class="padding" href="https://www.facebook.com/groups/awsstudygroupfcj"><i class='fab fa-facebook'></i> AWS Study Group - FB Group</a>
              </li>
          
        </ul>
      </section>
    

    
    <section id="prefooter">
      <hr/>
      <ul>
      
        <li>
          <a class="padding">
            <i class="fas fa-language fa-fw"></i>
          <div class="select-style">
            <select id="select-language" onchange="location = this.value;">
          
          
          
              
              
                  
                    
                    
                      <option id="en" value="//localhost:1313/3-config-cloudtrail/" selected>English</option>
                    
                  
              
                  
              
          
        </select>
        <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
          width="255px" height="255px" viewBox="0 0 255 255" style="enable-background:new 0 0 255 255;" xml:space="preserve">
          <g>
            <g id="arrow-drop-down">
              <polygon points="0,63.75 127.5,191.25 255,63.75 		" />
            </g>
          </g>
        </svg>
        </div>
        </a>
        </li>
      
      
      
        <li><a class="padding" href="#" data-clear-history-toggle=""><i class="fas fa-history fa-fw"></i> Clear History</a></li>
      
      </ul>
    </section>
    
    <section id="footer">
      <left>
    
     <b> Workshop</b> <br>
    <img src="https://hitwebcounter.com/counter/counter.php?page=7920860&style=0038&nbdigits=9&type=page&initCount=0" title="Migrate" Alt="web counter"   border="0" /></a>  <br>
     <b> <a href="https://cloudjourney.awsstudygroup.com/">Cloud Journey</a></b> <br>
    <img src="https://hitwebcounter.com/counter/counter.php?page=7830807&style=0038&nbdigits=9&type=page&initCount=0" title="Total CLoud Journey" Alt="web counter"   border="0"   />
     
</left>
<left>
    <br>
    <br>
        <b> Last Updated </b> <br>
        <i><font color=orange>26-11-2023</font></i>
    </left>
    <left>
        <br>
        <br>
        <b> Made with luv  </b> <br>
        <i> <a href="https://www.linkedin.com/in/lam-hoang-cat-vy/"  style="color:orange">Lam Hoang Cat Vy (Kathy Lam)</a> <br>

            <b> From Team FCJ</b> <br>
            <i> <a href="https://www.linkedin.com/in/jotaguy"  style="color:orange">Gia HÆ°ng </a> <br>
        </i>
        </left>

<script async defer src="https://buttons.github.io/buttons.js"></script>

    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            <a href='../'>Building a Simple AWS CloudTrail Data Analytics Solution</a> > CloudTrail Configuring
          
        
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents"></nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              CloudTrail Configuring
            </h1>
          

        



	<ol>
<li>As an AWS administrator: In the AWS Management Console, open the list of all AWS services by choosing Services, and then locate and choose CloudTrail.
<img alt="01" src="../images/3-cloudtrail/01.png"></li>
<li>Choose Create trail in the CloudTrail dashboard
<img alt="02" src="../images/3-cloudtrail/02.png">
Or choose <code>Trails</code> -&gt; <code>Create Trail</code>
<img alt="03" src="../images/3-cloudtrail/03.png"></li>
<li>For Trail name, enter default. If that Trail name already exists in your account, enter: <code>lab-data-cloudtrail-default</code></li>
<li>In the Trail log bucket and folder box, keep the default name suggestion. Note that this S3 bucket is the bucket where CloudTrail will store information. Make sure that you copy this bucket name in Notepad or some places because you will need it when you create the Amazon Athena table in later part.</li>
<li>Clear the <strong>Log file SSE-KMS</strong> encryption check box.
<img alt="04" src="../images/3-cloudtrail/04.png"></li>
<li>Scroll to the bottom of the page and choose <code>Next</code>.
<img alt="05" src="../images/3-cloudtrail/05.png"></li>
<li>On the next page, select <strong>Management events</strong>, <strong>Data events</strong>, and <strong>Insights events</strong>.
<img alt="06" src="../images/3-cloudtrail/06.png"></li>
<li>In the Data event, at:</li>
</ol>
<ul>
<li>Data event type: choose <code>S3</code></li>
<li>Log selector template: choose <code>Log all events</code></li>
<li>Selector name - optional: type <code>lab-data-events log</code> to clarify
<img alt="07" src="../images/3-cloudtrail/07.png"></li>
</ul>
<ol start="9">
<li>In the Insights events section, tick <code>API call rate</code> and <code>API error rate</code>, then click <code>Next</code>
<img alt="08" src="../images/3-cloudtrail/08.png"></li>
<li>Review and Scroll down
<img alt="09" src="../images/3-cloudtrail/09.png"></li>
<li>Click <code>Create trail</code>
<img alt="10" src="../images/3-cloudtrail/10.png"></li>
<li>You can click the S3 bucket link to see the objects created automatically by CloudTrail
<img alt="11" src="../images/3-cloudtrail/11.png"></li>
<li>You now have a new CloudTrail dataset that is being created in the designated bucket. You can go to Amazon S3 and inspect how the data structure will look like. As you interact with the AWS Management Console, your user is issuing API calls, which are captured and stored by CloudTrail.
<img alt="12" src="../images/3-cloudtrail/12.png"></li>
</ol>





<footer class=" footline" >
	
</footer>

        
        </div> 
        

      </div>

    <div id="navigation">
        
        
        
        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
        
        


	 
	 
		
			<a class="nav nav-prev" href="../" title="Building a Simple AWS CloudTrail Data Analytics Solution"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="../4-add-iam/" title="Add IAM" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>
    
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="../js/clipboard.min.js?1711460118"></script>
    <script src="../js/perfect-scrollbar.min.js?1711460118"></script>
    <script src="../js/perfect-scrollbar.jquery.min.js?1711460118"></script>
    <script src="../js/jquery.sticky.js?1711460118"></script>
    <script src="../js/featherlight.min.js?1711460118"></script>
    <script src="../js/highlight.pack.js?1711460118"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="../js/modernizr.custom-3.6.0.js?1711460118"></script>
    <script src="../js/learn.js?1711460118"></script>
    <script src="../js/hugo-learn.js?1711460118"></script>

    <link href="../mermaid/mermaid.css?1711460118" rel="stylesheet" />
    <script src="../mermaid/mermaid.js?1711460118"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-158079754-2', 'auto');
  ga('send', 'pageview');

</script>
  </body>
</html>
